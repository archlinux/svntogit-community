# $Id$
# Contributor: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Contributor: Igor Scabini <furester @ gmail.com>

pkgname=cython2-devel
_commit=215ea5ba4594645508e95f0161220116745b2ec0
pkgver=0.23_git215ea5ba45
pkgrel=1
pkgdesc="C-Extensions for Python"
arch=(i686 x86_64)
url="http://www.cython.org"
license=('APACHE')
depends=('python2-setuptools')
source=("https://github.com/cython/cython/archive/$_commit.zip")
md5sums=('276f31be5616a4c45244f4462259f21a')

prepare() {
  cd cython-$_commit
  sed -e 's|env python|env python2|g' -i cython.py -i Cython/*/*.py
}

package() {
  cd cython-$_commit
  python2 setup.py install --root="$pkgdir"

  mv "$pkgdir"/usr/bin/cygdb "$pkgdir"/usr/bin/cygdb2
  mv "$pkgdir"/usr/bin/cython "$pkgdir"/usr/bin/cython2
  mv "$pkgdir"/usr/bin/cythonize "$pkgdir"/usr/bin/cythonize2
}
