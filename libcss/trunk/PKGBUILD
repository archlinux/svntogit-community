# Maintainer: Brad Fanella <bradfanella@archlinux.us>
# Contributor: Daniel J Griffiths <ghost1227@archlinux.us>

pkgname=libcss
pkgver=0.1.0
pkgrel=2
pkgdesc="A CSS parser and selection engine."
arch=('i686' 'x86_64')
url="http://www.netsurf-browser.org/projects/libcss/"
license=('MIT')
depends=('libparserutils' 'libwapcaplet')
source=(http://www.netsurf-browser.org/projects/releases/libcss-${pkgver}-src.tar.gz)
md5sums=('47b9bba60fffe16ecebeba578c89fd40')

build() {
	cd ${srcdir}/${pkgname}-${pkgver}-src

	export CFLAGS="-Wno-error=unused-but-set-variable"
	
	make PREFIX=/usr COMPONENT_TYPE="lib-shared"
        make PREFIX=/usr COMPONENT_TYPE="lib-static"
}

package() {
	cd ${srcdir}/${pkgname}-${pkgver}-src
	
	make install PREFIX=/usr DESTDIR="${pkgdir}" COMPONENT_TYPE="lib-shared"
        make install PREFIX=/usr DESTDIR="${pkgdir}" COMPONENT_TYPE="lib-static"
	install -Dm644 COPYING ${pkgdir}/usr/share/licenses/${pkgname}/COPYING
}
