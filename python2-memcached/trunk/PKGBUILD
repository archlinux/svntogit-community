# $Id$
# Maintainer: Alexander RÃ¸dseth <rodseth@gmail.com>
# Contributor: Angel Velasquez <angvp@archlinux.org>
# Contributor: Geoffroy Carrier <geoffroy.carrier@aur.archlinux.org>
# Contributor: Nathan Jones <nathanj@insightbb.com>

pkgname=python2-memcached
pkgdesc='Python interface to memcached'
pkgver=1.51
pkgrel=1
depends=('python2')
url='https://bugs.launchpad.net/python-memcached'
arch=('any')
license=('Python')
makedepends=('python2-distribute')
source=("ftp://ftp.tummy.com/pub/python-memcached/python-memcached-$pkgver.tar.gz"
        'LICENSE')
sha256sums=('228563f1aa221f73b43509877322fde8a0efa4b65e9d065237b26f682a4a9a88'
            '9f3f9438250f8aa5bdcbb0dee700f237932fbda985646c61c85d2a25a2510f36')

prepare() {
  cd "$srcdir/python-memcached-$pkgver"

  sed -i 's:/usr/bin/env python:#/usr/bin/python2:' memcache.py
}

package() {
  cd "$srcdir/python-memcached-$pkgver"

  python2 setup.py install --root=$pkgdir --optimize=1
  install -Dm644 "$srcdir/LICENSE" "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}

check() {
  cd "$srcdir/python-memcached-$pkgver"

  python2 setup.py check
}

# vim:set ts=2 sw=2 et:
