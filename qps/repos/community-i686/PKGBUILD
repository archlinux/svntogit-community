# $Id$
# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Contributor: David Rosenstrauch <darose@darose.net>

pkgname=qps
pkgver=1.10.15
_dlpkgver=5946
pkgrel=2
pkgdesc="a visual process manager, an X11 version of 'top' or 'ps'."
url="http://qps.kldp.net/projects/qps"
depends=('qt')
arch=('i686' 'x86_64')
license="GPL"
source=(http://kldp.net/frs/download.php/${_dlpkgver}/qps-$pkgver.tar.bz2
	version-patch.diff)
md5sums=('25a6c6f8ac9172a6874e3514edf1eda1'
         'e323a796a3dbf44a99af386e867f7848')

build() {
  cd $srcdir/$pkgname-$pkgver
  patch -p0 <$srcdir/version-patch.diff
  qmake
  make
}

package() {
  cd $srcdir/$pkgname-$pkgver
  install -D -m 755 qps $pkgdir/usr/bin/qps
  install -D -m 644 qps.1 $pkgdir/usr/share/man/man1/qps.1
  install -D -m 644 qps.desktop $pkgdir/usr/share/applications/qps.desktop
  install -D -m 644 icon/icon.xpm $pkgdir/usr/share/pixmaps/qps.xpm
}
