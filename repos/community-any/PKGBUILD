# Maintainer: David Runge <dvzrv@archlinux.org>

pkgname=autorandr
pkgver=1.13.2
pkgrel=1
pkgdesc="Auto-detect connected display hardware and load appropiate X11 setup using xrandr"
arch=(any)
url="https://github.com/phillipberndt/autorandr"
license=(GPL3)
depends=(python-packaging xorg-xdpyinfo xorg-xrandr)
makedepends=(bash-completion desktop-file-utils systemd)
optdepends=(
  'bash-completion: auto-completion for autorandr in Bash'
  'zsh-completions: auto-completion for autorandr in ZSH'
)
source=($pkgname-$pkgver.tar.gz::https://github.com/phillipberndt/$pkgname/archive/$pkgver.tar.gz)
sha512sums=('79c344317be2f881a19a4dbd798441da49c6dbeeba555ad6c4d6fe1e4cba97587f2016910f850472b78341e1b6b16467f0ad33b496f68300054442e5c1675e4a')
b2sums=('8e4fe1b8ece98abb5ee88218db512e18822cf96e0587b3b117f0bcb07130b1c8bc473c987cf110d1ab0f2a8ea2fed64833610c951cee5ed5b899d180b3a80704')

package() {
  make DESTDIR="$pkgdir" PREFIX=/usr install -C $pkgname-$pkgver
  # zsh completion
  install -vDm 644 $pkgname-$pkgver/contrib/zsh_completion/_$pkgname -t "$pkgdir/usr/share/zsh/site-functions/"
  # docs
  install -vDm 644 $pkgname-$pkgver/README.md -t "$pkgdir/usr/share/doc/$pkgname/"
}
