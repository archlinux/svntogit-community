diff --git a/tests/conftest.py b/tests/conftest.py
index 4bd573144..8a9e1530b 100644
--- a/tests/conftest.py
+++ b/tests/conftest.py
@@ -40,10 +40,7 @@ def clear_loggers():
 
 @pytest.fixture
 def ptk_app_session():
-    pipe_input = create_pipe_input()
     output = DummyOutput()
-    try:
+    with create_pipe_input() as pipe_input:
         with create_app_session(input=pipe_input, output=output) as session:
             yield session
-    finally:
-        pipe_input.close()
