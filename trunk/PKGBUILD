# Maintainer: David Runge <dvzrv@archlinux.org>

pkgname=autorandr
pkgver=1.13.1
pkgrel=1
pkgdesc="Auto-detect connected display hardware and load appropiate X11 setup using xrandr"
arch=(any)
url="https://github.com/phillipberndt/autorandr"
license=(GPL3)
depends=(python-packaging xorg-xdpyinfo xorg-xrandr)
makedepends=(bash-completion systemd)
optdepends=(
  'bash-completion: auto-completion for autorandr in Bash'
  'zsh-completions: auto-completion for autorandr in ZSH'
)
source=($pkgname-$pkgver.tar.gz::https://github.com/phillipberndt/$pkgname/archive/$pkgver.tar.gz)
sha512sums=('b090de5b4c7ff3d886d6aabac695a694983704678eedb31b4cbfdc88e6569e1f1c4e32ed5d16e59d0c98702c93c8600e7625d4d88dd6c988c7db131364cfb6f7')
b2sums=('f3173d795294eaa89d4f8c98d8bf6dc6a9c09d57649c228d17759e76d9c15d66b32803a63a07f44090b8d4580af8ae9dd42a3c8ff76d91f47d82f58896aebea6')

package() {
  make DESTDIR="$pkgdir" PREFIX=/usr install -C $pkgname-$pkgver
  # zsh completion
  install -vDm 644 $pkgname-$pkgver/contrib/zsh_completion/_$pkgname -t "$pkgdir/usr/share/zsh/site-functions/"
  # docs
  install -vDm 644 $pkgname-$pkgver/README.md -t "$pkgdir/usr/share/doc/$pkgname/"
}
