# Maintainer: schuay <jakob.gruber@gmail.com>
# Contributor: Stefan Husmann <stefan-husmann@t-online.de>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgname=soundconverter
pkgver=3.1.0
pkgrel=1
pkgdesc="A simple sound converter application for GNOME"
arch=('any')
license=('GPL3')
url="https://soundconverter.org/"
depends=('gst-plugins-base' 'gst-plugins-good' 'gtk3' 'libnotify' 'python-gobject')
makedepends=('intltool')
optdepends=('gst-plugins-ugly: Extra media codecs'
            'gst-plugins-bad: Extra media codecs'
            'gst-libav: Extra media codecs')
source=("https://github.com/kassoulet/soundconverter/archive/$pkgver.tar.gz")
sha512sums=('6f76f9c1f02be2b2d4a0d338aa61b5ec225b637d8be258de50e19486d8b52fe1633fb4692847bb144f86eed3ce6497d13669fdcab223998d6820d8ce18480056')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  python3 setup.py build
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  python3 setup.py install --prefix=$pkgdir/usr
  # pacman will compile schemas via a hook once placed into /usr
  rm $pkgdir/usr/share/glib-2.0/schemas/gschemas.compiled
}
